// mock-openai.js
// Этот файл предоставляет заглушку для OpenAI API, пока не будет настроен новый API ключ

/**
 * Генерирует имитацию ответа от чат-бота на запрос пользователя
 * @param {string} message - Сообщение пользователя
 * @returns {Promise<string>} - Ответ чат-бота
 */
export async function generateMockResponse(message) {
  console.log("Используется имитация OpenAI API для ответа на:", message);
  
  // Базовые ответы на общие вопросы
  const responses = {
    "привет": "Здравствуйте! Чем я могу помочь вам сегодня?",
    "как дела": "У меня всё хорошо, спасибо за вопрос! Я готов помочь вам.",
    "кто ты": "Я чат-бот BMGii, созданный для демонстрации возможностей интеграции с OpenAI API. Сейчас я работаю в режиме имитации, так как API-ключ требует обновления.",
    "что ты умеешь": "Обычно я могу отвечать на вопросы, помогать с поиском информации и поддерживать беседу. Однако сейчас я работаю в ограниченном режиме имитации, пока API-ключ не будет обновлен.",
    "пока": "До свидания! Буду рад помочь вам снова.",
    "спасибо": "Пожалуйста! Рад быть полезным."
  };

  // Проверяем, соответствует ли сообщение одному из ключевых слов
  for (const [key, response] of Object.entries(responses)) {
    if (message.toLowerCase().includes(key)) {
      return response;
    }
  }

  // Если нет совпадений с ключевыми словами, возвращаем общий ответ
  return "Я работаю в режиме имитации, так как API-ключ OpenAI требует обновления. Для полноценной работы чат-бота необходимо обновить API-ключ.";
}